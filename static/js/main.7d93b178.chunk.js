(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),l=a.n(s),o=(a(72),a(42)),c=a(22),i=a(3),u=a(4),m=a(7),d=a(5),h=a(6),p=a(64),v=a.n(p),E=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"heroIntro"},r.a.createElement("h1",null,"Personal ",r.a.createElement("span",null,"Date Night")),r.a.createElement("p",null,"Sometimes you just need a break from your partner but you already got a babysitter. Now couples can go to different events in similar locations and at the same time."))}}]),t}(n.Component),f=a(65),b=a.n(f),g=a(41),y=a.n(g),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).addOneHourToTime=function(e){if(e){var t=parseInt(e.substr(0,2),10);t>=23?t="00":(t+=1)<10&&(t="0"+t);var a=parseInt(e.substr(3,5),10);return a<10&&(a="0"+a),"".concat(t,":").concat(a)}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"heroForm"},r.a.createElement("form",{action:"#"},r.a.createElement("div",{className:"heroFormBlock"},r.a.createElement("label",{className:"heroFormLabelMain",htmlFor:"location"},"Which city are you searching in?"),r.a.createElement("div",{className:"HeroFormInputContainer"},r.a.createElement("input",Object(c.a)({type:"text",name:"location",required:!0,pattern:"[a-zA-Z]*",onChange:function(t){e.props.handleChange(t)},value:this.props.location},"required",!0)))),r.a.createElement("div",{className:"heroFormBlock"},r.a.createElement("label",{className:"heroFormLabelMain"},"Which date?"),r.a.createElement("div",{className:"HeroFormInputContainer"},r.a.createElement(b.a,{onChange:function(t,a){e.props.handleChange(t,"date")},format:"y-MM-dd",name:"date",value:this.props.date,required:!0,minDate:new Date}))),r.a.createElement("div",{className:"heroFormBlock"},r.a.createElement("label",{className:"heroFormLabelMain"},"What time range?"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"heroFormBlockTime"},r.a.createElement("div",{className:"perTimeContainer"},r.a.createElement("label",{htmlFor:"time"},"From"),r.a.createElement(y.a,{format:"h:mm a",name:"timeStart",onChange:function(t,a){e.props.handleChange(t,"timeStart")},value:this.props.timeStart,disableClock:!0,required:!0})),r.a.createElement("div",{className:"perTimeContainer"},r.a.createElement("label",{htmlFor:"time"},"Until"),r.a.createElement(y.a,{format:"h:mm a",name:"timeEnd",minTime:this.addOneHourToTime(this.props.timeStart),onChange:function(t,a){e.props.handleChange(t,"timeEnd")},value:this.props.timeEnd,disableClock:!0,required:!0})))))),r.a.createElement("div",{className:"heroFormBlock"},r.a.createElement("button",{onClick:this.props.onSubmit,className:"resultsTop green large",to:"resultsTop"},"find events"))))}}]),t}(n.Component),k=a(30),w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).priceInfo=function(e){var t="";if(e.priceRanges){var a=e.priceRanges[0].min,n=e.priceRanges[0].max,r=e.priceRanges[0].currency;t=a===n?"Price: ".concat(a," ").concat(r):"Price Range: ".concat(a," - ").concat(n," ").concat(r)}else t="Price Unavailable";return t},e.displayDate=function(e){var t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sep","Oct","Nov","Dec"];if(e.dates.start.localTime){var n=new Date("".concat(e.dates.start.localDate,"T").concat(e.dates.start.localTime)),r=n.getDay(),s=n.getDate(),l=n.getMonth(),o=n.getHours(),c=n.getMinutes();c<10&&(c="0"+c);var i="";return o<12&&(i="AM"),(o=12)?(i="PM",o=12):(i="PM",o-=12),"".concat(t[r],", ").concat(a[l]," ").concat(s,", ").concat(o,":").concat(c," ").concat(i)}var u=new Date("".concat(e.dates.start.localDate,"T00:00:00")),m=u.getDay(),d=u.getDate(),h=u.getMonth();return"".concat(t[m],", ").concat(a[h]," ").concat(d)},e.selectedActive=function(t){return e.state.eventId1===t.id&&"1"===e.props.currentUser||e.state.eventId2===t.id&&"2"===e.props.currentUser?"activeEvent":e.state.eventId1===t.id&&"2"===e.props.currentUser||e.state.eventId2===t.id&&"1"===e.props.currentUser?"disabledEvent":""},e.state={eventId1:"",eventId2:""},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.displayDate(this.props.event),r.a.createElement("div",{className:"resultCard ".concat(this.selectedActive(this.props.event))},r.a.createElement("form",{action:"",className:"innerResultCard"},r.a.createElement("label",{htmlFor:"selectedEvent"}),r.a.createElement("input",{type:"radio",tabIndex:"0",id:this.props.event.id,name:this.props.name,onChange:function(t){return e.props.handleEventSelectRadio(t,e.props.event)},checked:this.props.event.id===this.state.eventId1||this.props.event.id===this.state.eventId2}),r.a.createElement("div",null,r.a.createElement("div",{className:"resultCard-imgContainer"},r.a.createElement("img",{src:this.props.event.images[1].url,alt:"image for ".concat(this.props.event.name)})),r.a.createElement("div",{className:"eventDetails"},r.a.createElement("h3",null,this.props.event.name),r.a.createElement("p",null,this.displayDate(this.props.event)),r.a.createElement("p",{className:"location"},this.props.event._embedded.venues[0].name,", ",this.props.event._embedded.venues[0].city.name),r.a.createElement("p",{className:"priceString"},this.priceInfo(this.props.event))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.user1choice.id!==t.eventId1?{eventId1:e.user1choice.id}:e.user2choice.name!==t.eventName2?{eventId2:e.user2choice.id}:null}}]),t}(n.Component),N=a(31),O=a(13),S=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).loopFocus=function(){e.modalRef.current.focus()},e.modalRef=r.a.createRef(),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.modalRef.current.focus()}},{key:"render",value:function(){return r.a.createElement("div",{className:"toLinks modalContent",tabIndex:"-1"},r.a.createElement("a",{href:"# ",className:"keepFocusModal",onTransitionEnd:this.loopFocus,"aria-hidden":"true"},"."),r.a.createElement("button",{ref:this.modalRef,onClick:this.props.closeModal,"aria-label":"click to close the modal"},r.a.createElement(O.a,{"aria-hidden":"true","aria-label":"close the box",icon:"times"})),r.a.createElement("div",null,this.props.children),r.a.createElement("h2",null,r.a.createElement("span",null,"Congratulations!")," You've both successfully chosen your events!"),r.a.createElement("p",null,"You can buy your tickets here:"),r.a.createElement("div",{className:"userLink"},r.a.createElement(O.a,{icon:"user","aria-hidden":"true",className:"faUser"}),r.a.createElement("p",{className:"userText"},"User One: ",r.a.createElement("a",{href:this.props.user1choice.url,target:"_blank",rel:"noopener noreferrer","aria-label":"Click to get your tickets here!"},this.props.user1choice.name))),r.a.createElement("div",{className:"userLink"},r.a.createElement(O.a,{icon:"user","aria-hidden":"true",className:"faUser"}),r.a.createElement("p",{className:"userText"},"User Two: ",r.a.createElement("a",{href:this.props.user2choice.url,target:"_blank",rel:"noopener noreferrer","aria-label":"Click to get your tickets here!"},this.props.user2choice.name)),r.a.createElement("a",{href:"# ",className:"keepFocusModal",onTransitionEnd:this.loopFocus,"aria-hidden":"true"},".")))}}]),t}(n.Component),j=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",{className:"modalOverlay","aria-hidden":"true"},r.a.createElement(S,{user1choice:this.props.user1choice,user2choice:this.props.user2choice,closeModal:this.props.closeModal}));return this.props.modalIsOpen||(e=null),r.a.createElement("div",null,e)}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleUserChangeRadio=function(e){a.setState({currentUser:e.target.value})},a.handleEventSelectRadio=function(e,t){"1"===a.state.currentUser&&a.setState({user1choice:t}),"2"===a.state.currentUser&&a.setState({user2choice:t})},a.confirmBothUsersChoices=function(e){e.preventDefault(),a.setState({modalIsOpen:!0})},a.closeModal=function(e){e.preventDefault(),a.setState({modalIsOpen:!1})},a.state={allEvents:[],user1choice:"",user2choice:"",currentUser:"1",modalIsOpen:!1,activeUser:!1},a.handleScroll=a.handleScroll.bind(Object(k.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleScroll",value:function(){this.setState({scroll:window.scrollY})}},{key:"scrollLinks",value:function(){N.scroller.scrollTo("toLinks",{duration:800,delay:0,smooth:"easeInOutQuart"})}},{key:"componentDidMount",value:function(){var e=document.querySelector(".containerUserSelectionBackground");this.setState({top:e.offsetTop,height:e.offsetHeight}),window.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(){this.state.scroll>this.state.top?document.body.style.paddingTop="".concat(this.state.height,"px"):document.body.style.paddingTop=0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"displayEvents"},r.a.createElement("div",{className:this.state.scroll>this.state.top?"containerUserSelectionBackground fixed-nav":"containerUserSelectionBackground"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{action:"",className:"containerUserSelection"},r.a.createElement("div",{className:"containerUsers"},r.a.createElement("div",{className:"user"},r.a.createElement("div",null,r.a.createElement("input",{onChange:function(t){e.handleUserChangeRadio(t)},type:"radio",className:"selectedUser",name:"currentUser",id:"user1",value:"1","aria-label":"select for user one","aria-required":"true",checked:"1"===this.state.currentUser}),r.a.createElement("div",{className:"perUserContents"},r.a.createElement(O.a,{icon:"user","aria-hidden":"true"}),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user1"},"user one"),this.state.user1choice?r.a.createElement("p",null,this.state.user1choice.name," "):r.a.createElement("p",null,"Please choose an event from the list below"))))),r.a.createElement("div",{className:"user"},r.a.createElement("div",null,r.a.createElement("input",{onChange:function(t){e.handleUserChangeRadio(t)},type:"radio",className:"selectedUser",name:"currentUser",id:"user2",value:"2","aria-label":"select for user two","aria-required":"true",checked:"2"===this.state.currentUser}),r.a.createElement("div",{className:"perUserContents"},r.a.createElement(O.a,{icon:"user","aria-hidden":"true"}),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"user2"},"user two"),this.state.user2choice?r.a.createElement("p",null,this.state.user2choice.name," "):r.a.createElement("p",null,"Please choose an event from the list below")))))),r.a.createElement("div",{className:"containerUsersButtons"},this.state.user1choice&&this.state.user2choice?r.a.createElement("div",null,r.a.createElement("div",{className:"containerButton"},r.a.createElement("button",{className:"navy med",onClick:function(t){e.confirmBothUsersChoices(t)},"aria-label":"Confirm choices of user one and user two"},"Confirm Both Events",r.a.createElement(O.a,{icon:"check-double","aria-hidden":"true"}))),r.a.createElement(j,{user1choice:this.state.user1choice,user2choice:this.state.user2choice,modalIsOpen:this.state.modalIsOpen,closeModal:function(t){return e.closeModal(t)}})):"",r.a.createElement("div",{className:"containerButton"},r.a.createElement("button",{className:"white med","aria-label":"Reloads the page to start a new search",reset:this.reset},"New Search")))))),r.a.createElement("div",{className:"displayContent wrapper"},r.a.createElement("form",{action:"submit"},r.a.createElement("div",{className:"containerFilterEvents"},r.a.createElement("div",{className:"filterFields"},r.a.createElement("label",{className:"visuallyHidden",htmlFor:"textFilter"},"Enter text to filter"),r.a.createElement("input",{type:"text",onChange:function(t){e.props.handleChange(t)},name:"textFilter",value:this.props.textFilter,placeholder:"Enter text to filter","aria-label":"Enter text to filter events"}),r.a.createElement("label",{className:"visuallyHidden",htmlFor:"allCategories"},"Event Categories"),r.a.createElement("select",{onChange:function(t){e.props.handleChange(t)},name:"categoryDropdown",value:this.props.categoryDropdown,id:"allCategories"},this.props.eventCategories.map(function(e,t){return r.a.createElement("option",{value:e,key:t}," ",e," ")})),r.a.createElement("label",{className:"visuallyHidden",htmlFor:"allVenues"},"All Venues"),r.a.createElement("select",{onChange:function(t){e.props.handleChange(t)},name:"venueDropdown",value:this.props.venueDropdown,id:"allVenues"},this.props.eventVenues.map(function(e,t){return r.a.createElement("option",{value:e,key:t}," ",e," ")}))),r.a.createElement("div",{className:"filterButtons"},r.a.createElement("button",{className:"green small",onClick:function(t){return e.props.filterEvents(t,e.props.textFilter,e.props.categoryDropdown,e.props.venueDropdown)}},"Filter"),r.a.createElement("button",{className:"white small",onClick:function(t){return e.props.resetFilters(t)}},"Reset Filter")))),r.a.createElement("div",{className:"containerResultCard"},this.props.filteredEvents.map(function(t){return r.a.createElement(w,{key:t.id,event:t,handleEventSelectRadio:e.handleEventSelectRadio,user1choice:e.state.user1choice,user2choice:e.state.user2choice,tabIndex:"0",currentUser:e.state.currentUser})}))))}}]),t}(n.Component),F=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Created by CAIJ Consulting: ",r.a.createElement("a",{href:"http://www.canrozanes.com/",target:"_blank","aria-label":"go to Can Rozanes's website",rel:"noopener noreferrer"},"Can"),", ",r.a.createElement("a",{href:"http://www.anniebombanie.com",target:"_blank","aria-label":"go to Annie Liew's website",rel:"noopener noreferrer"},"Annie"),", ",r.a.createElement("a",{href:"http://www.irenetruong.com/",target:"_blank","aria-label":"go to Irene Truong's website",rel:"noopener noreferrer"},"Irene"),", and ",r.a.createElement("a",{href:"http://www.jamieyeung.ca/",target:"_blank","aria-label":"go to Jamie Yeung's website",rel:"noopener noreferrer"},"Jamie")," | Powered by ",r.a.createElement("a",{href:"https://developer.ticketmaster.com/products-and-docs/apis/getting-started/",target:"_blank","aria-label":"go to Ticketmaster's API website",rel:"noopener noreferrer"},"Ticketmaster")))}}]),t}(n.Component),U=(a(143),a(23)),T=a(66),I=a(24);U.b.add(T.a,I.b,I.a,I.d,I.c);var R=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).handleChange=function(t,a){a?e.setState(Object(c.a)({},a,t)):e.setState(Object(c.a)({},t.target.name,t.target.value))},e.reset=function(){e.setState({displayResult:!1})},e.formatDate=function(e,t){var a=e.getFullYear(),n=e.getMonth()+1;n<10&&(n="0"+n);var r=e.getDate();r<10&&(r="0"+r);var s=t.substr(0,2),l=t.substr(3,5);return"".concat(a,"-").concat(n,"-").concat(r,"T").concat(s,":").concat(l,":00")},e.getTicketmasterData=function(t,a,n){v.a.get("https://app.ticketmaster.com/discovery/v2/events.json",{params:{apikey:"cpqJuV2A3YqkXOJylkTrDzVGLRKZ5hp5",city:t,localStartEndDateTime:"".concat(a,", ").concat(n)}}).then(function(t){t.data.page.totalElements>0?(t=t.data._embedded.events,e.setState({allEvents:t,filteredEvents:t,isLoading:!1}),e.getEventCategories(),e.getEventVenues()):e.setState({error:!0})})},e.getEventCategories=function(){for(var t=["All Categories"],a=0;a<e.state.allEvents.length;a++){var n=e.state.allEvents[a].classifications[0].segment.name;t.includes(n)||t.push(n)}e.setState({eventCategories:[].concat(t)})},e.getEventVenues=function(){for(var t=["All Venues"],a=0;a<e.state.allEvents.length;a++){var n=e.state.allEvents[a]._embedded.venues[0].name;t.includes(n)||t.push(n)}e.setState({eventVenues:[].concat(t)})},e.filterEvents=function(t,a,n,r){t.preventDefault();var s=Object(o.a)(e.state.allEvents).filter(function(e){return!(a.trim().length>0)||e.name.toUpperCase().includes(a.toUpperCase())}).filter(function(e){return"All Categories"===n||e.classifications[0].segment.name.includes(n)}).filter(function(e){return"All Venues"===r||e._embedded.venues[0].name.includes(r)});e.setState({filteredEvents:Object(o.a)(s)})},e.resetFilters=function(t){t.preventDefault(),e.filterEvents(t,"","All Categories","All Venues"),e.setState({textFilter:"",categoryDropdown:"All Categories",venueDropdown:"All Venues"})},e.onSubmit=function(t){if(t.preventDefault(),e.scrollTo(),e.state.timeStart&&e.state.timeEnd&&e.state.location&&Date.parse("01/01/2011 ".concat(e.state.timeEnd,":00"))>Date.parse("01/01/2011 ".concat(e.state.timeStart,":00"))){e.setState({displayResult:!0});var a=e.formatDate(e.state.date,e.state.timeStart),n=e.formatDate(e.state.date,e.state.timeEnd),r=e.state.location;e.getTicketmasterData(r,a,n)}},e.state={allEvents:[],timeStart:"12:00",timeEnd:"23:00",date:new Date,location:"",filteredEvents:[],eventCategories:[],userCategory:"",eventVenues:[],userVenue:"",isLoading:!0,displayResult:!1,textFilter:"",categoryDropdown:"",venueDropdown:"",error:!1},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"scrollTo",value:function(){N.scroller.scrollTo("resultsTop",{duration:800,delay:0,smooth:"easeInOutQuart"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("div",{className:"hero wrapper"},r.a.createElement("div",{className:"heroInnerContainer"},r.a.createElement("div",{className:"heroBorderMiddle"},r.a.createElement(E,null),r.a.createElement(C,{timeStart:this.state.timeStart,timeEnd:this.state.timeEnd,date:this.state.date,handleChange:this.handleChange,onSubmit:this.onSubmit,location:this.state.location}))))),r.a.createElement("main",{className:"resultsTop"},r.a.createElement("div",null,this.state.error?r.a.createElement("div",{className:"error wrapper"},r.a.createElement("p",null,"Sorry, your search didn't return any events. Please adjust your search and try again.")):this.state.displayResult&&(this.state.isLoading?r.a.createElement("h1",{className:"wrapper"},"Getting Your Events..."):r.a.createElement(D,{date:this.state.date,timeStart:this.state.timeStart,timeEnd:this.state.timeEnd,location:this.state.location,eventVenues:this.state.eventVenues,handleChange:this.handleChange,textFilter:this.state.textFilter,allEvents:this.state.allEvents,filteredEvents:this.state.filteredEvents,eventCategories:this.state.eventCategories,categoryDropdown:this.state.categoryDropdown,venueDropdown:this.state.venueDropdown,filterEvents:this.filterEvents,resetFilters:this.resetFilters})))),r.a.createElement(F,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},67:function(e,t,a){e.exports=a(144)},72:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.7d93b178.chunk.js.map